<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Information System</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: rgb(0, 208, 255); /* Blue */
            --secondary-color: #357ab8; /* Darker Blue */
            --border-color: #d1d5db; /* Light Border */
            --hover-color: #e1f5fe; /* Light Blue */
            --error-color: #e74c3c; /* Red */
            --success-color: #28a745; /* Green */
            --table-header-color: #f1f5f9; /* Table Header Background */
            --table-row-hover-color: #e3f2fd; /* Table Row Hover Color */
        }

        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(rgb(75, 102, 118), rgb(116, 50, 152)); /* Updated line for gradient background */
        }

        h1 {
    text-align: center;
    font-size: 3rem; /* Increased font size */
    color: transparent; /* Make text transparent for gradient effect */
    background: linear-gradient(90deg, rgb(211, 247, 255),  rgb(0, 242, 255)); /* Gradient color */
    -webkit-background-clip: text; /* Clip background to text */
    background-clip: text; /* Clip background to text */
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Add shadow for depth */
    transition: transform 0.3s; /* Animation on hover */
}

h1:hover {
    transform: scale(1.05); /* Slightly enlarge on hover */
}

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Form Styles */
        .form-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
        }

        input, button, select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s, transform 0.2s;
        }

        button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* Search Box Styles */
        .search-box {
            margin-bottom: 1rem;
            display: flex;
            gap: 10px;
        }
        
        .search-box input {
            flex-grow: 1;
        }
        
        .sort-container {
            display: flex;
            gap: 10px;
            margin-bottom: 1rem;
        }
        
        .sort-container select {
            flex-basis: 200px;
        }

        /* Table Styles */
        .table-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--table-header-color);
            font-weight: 600;
            color: #333;
            cursor: pointer;
        }
        
        th:hover {
            background-color: #e0e7ff;
        }

        tr:nth-child(even) {
            background-color: #f9fafb;
        }

        tr:hover {
            background-color: var(--table-row-hover-color);
        }

        .delete-btn {
            background-color: #e74c3c;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }

        .delete-btn:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
        }

        .edit-btn {
            background-color: #f39c12;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }

        .edit-btn:hover {
            background-color: #e67e22;
            transform: translateY(-2px);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .form-container {
                padding: 1rem;
            }

            th, td {
                padding: 0.5rem;
            }
            
            .sort-container {
                flex-direction: column;
            }
        }

        .skills-list {
            margin: 0;
            padding-left: 1.5rem;
        }

        .error {
            color: var(--error-color);
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
        
        /* Loading animation */
        .loader-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .validation-error {
            border-color: var(--error-color);
        }
        
        .error-message {
            color: var(--error-color);
            font-size: 0.8rem;
            margin-top: 0.25rem;
            display: none;
        }
    </style>
</head>
<body>
    <h1>STUDENT INFORMATION SYSTEM</h1>
    <div class="container">
        <div class="form-container">
            <form id="studentForm">
                <div class="form-group">
                    <label for="fullName">Student Full Name*</label>
                    <input type="text" id="fullName" required>
                    <div id="fullNameError" class="error-message">Name must be at least 2 characters long</div>
                </div>
                <div class="form-group">
                    <label for="rollNumber">Roll Number (e.g., 23ucs698)*</label>
                    <input type="text" id="rollNumber" required pattern="^\d{2}[a-z]{3}\d{3}$" title="Format: college roll numbers only (e.g., 23ucs698)">
                    <div id="rollNumberError" class="error-message">Roll number must be in the format: college roll numbers only (e.g., 23ucs698)</div>
                </div>
                <div class="form-group">
                    <label for="courseName">Course Name*</label>
                    <input type="text" id="courseName" required>
                    <div id="courseNameError" class="error-message">Course name is required</div>
                </div>
                <div class="form-group">
                    <label for="skills">Skills (comma-separated)*</label>
                    <input type="text" id="skills" required>
                    <div id="skillsError" class="error-message">At least one skill is required</div>
                </div>
                <div class="form-group">
                    <label for="email">Email Address*</label>
                    <input type="email" id="email" required title="Please match the request format of your college email id">
                    <div id="emailError" class="error-message">Please enter a valid email address</div>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number*</label>
                    <input type="tel" id="phone" required>
                    <div id="phoneError" class="error-message">Please enter a valid 10-digit phone number</div>
                </div>
                <button type="submit" id="submitBtn">Add Student</button>
            </form>
        </div>

        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search by name or roll number...">
        </div>
        
        <div class="sort-container">
            <select id="sortField">
                <option value="">Sort By...</option>
                <option value="fullName">Name</option>
                <option value="rollNumber">Roll Number</option>
                <option value="courseName">Course</option>
            </select>
            <select id="sortOrder">
                <option value="asc">Ascending</option>
                <option value="desc">Descending</option>
            </select>
            <button id="sortBtn">Sort</button>
        </div>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th data-sort="id">Sr. No.</th>
                        <th data-sort="fullName">Student Name</th>
                        <th data-sort="rollNumber">Roll Number</th>
                        <th data-sort="courseName">Course</th>
                        <th>Skills</th>
                        <th>Contact Info</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="studentTableBody"></tbody>
            </table>
        </div>
    </div>            
    
    <div class="loader-container" id="loaderContainer">
        <div class="loader"></div>
    </div>
            
    <script>
        /*
         * ADVANCED JAVASCRIPT IMPLEMENTATION
         * 
         * This script has been enhanced with the following advanced JavaScript concepts:
         * 1. Event Delegation & Propagation - For handling dynamic elements
         * 2. Promises & Promise Chaining - For asynchronous operations
         * 3. Async/Await - For cleaner asynchronous code
         * 4. Real-time Form Validation - Using event listeners
         * 5. Loading Animation - For better UX during async operations
         * 6. Sorting & Filtering - Advanced array operations
         */
        
        // DOM Elements
        const studentForm = document.getElementById('studentForm');
        const fullNameInput = document.getElementById('fullName');
        const rollNumberInput = document.getElementById('rollNumber');
        const courseNameInput = document.getElementById('courseName');
        const skillsInput = document.getElementById('skills');
        const emailInput = document.getElementById('email');
        const phoneInput = document.getElementById('phone');
        const searchInput = document.getElementById('searchInput');
        const studentTableBody = document.getElementById('studentTableBody');
        const submitBtn = document.getElementById('submitBtn');
        const sortField = document.getElementById('sortField');
        const sortOrder = document.getElementById('sortOrder');
        const sortBtn = document.getElementById('sortBtn');
        const loaderContainer = document.getElementById('loaderContainer');
        
        // Error message elements
        const fullNameError = document.getElementById('fullNameError');
        const rollNumberError = document.getElementById('rollNumberError');
        const courseNameError = document.getElementById('courseNameError');
        const skillsError = document.getElementById('skillsError');
        const emailError = document.getElementById('emailError');
        const phoneError = document.getElementById('phoneError');
        
        // Initialize students array from localStorage or empty array
        let students = [];
        let editIndex = -1; // To track the index of the student being edited

        /*
         * EVENT DELEGATION IMPLEMENTATION
         * Using event delegation to handle events for dynamically created elements
         * This is more efficient than attaching event listeners to each element
         */
        document.addEventListener('DOMContentLoaded', () => {
            // Load students data asynchronously using Promises
            showLoader();
            fetchStudents()
                .then(data => {
                    students = data;
                    return displayStudents();
                })
                .catch(error => {
                    console.error('Error loading students:', error);
                })
                .finally(() => {
                    hideLoader();
                });
                
            // Form submission
            studentForm.addEventListener('submit', handleSubmit);
            
            // Search functionality with real-time filtering
            searchInput.addEventListener('input', handleSearch);
            
            // Sort functionality
            sortBtn.addEventListener('click', handleSort);
            
            // Table header sorting using event propagation
            document.querySelector('thead').addEventListener('click', handleTableHeaderClick);
            
            // Event delegation for table actions (edit and delete buttons)
            studentTableBody.addEventListener('click', handleTableActions);
            
            // Real-time validation using input events
            setupValidation();
        });

        /*
         * PROMISE-BASED API SIMULATION
         * Simulating asynchronous data fetching with Promises
         * This demonstrates how to handle API calls in real applications
         */
        function fetchStudents() {
            return new Promise((resolve, reject) => {
                // Simulate network delay
                setTimeout(() => {
                    try {
                        const storedStudents = JSON.parse(localStorage.getItem('students')) || [];
                        resolve(storedStudents);
                    } catch (error) {
                        reject(error);
                    }
                }, 1500); // 1.5 second delay to simulate network
            });
        }
        
        /*
         * PROMISE-BASED DATA SAVING
         * Using Promises for data persistence operations
         */
        function saveStudents(studentsData) {
            return new Promise((resolve, reject) => {
                try {
                    localStorage.setItem('students', JSON.stringify(studentsData));
                    resolve();
                } catch (error) {
                    reject(error);
                }
            });
        }
        
        /*
         * ASYNC/AWAIT IMPLEMENTATION
         * Using async/await for cleaner asynchronous code
         * This replaces nested callbacks and improves readability
         */
        async function handleSubmit(event) {
            event.preventDefault();
            
            // Get form values
            const fullName = fullNameInput.value.trim();
            const rollNumber = rollNumberInput.value.trim();
            const courseName = courseNameInput.value.trim();
            const skills = skillsInput.value.trim();
            const email = emailInput.value.trim();
            const phone = phoneInput.value.trim();

            // Validate input using enhanced validation
            if (!validateForm()) {
                return;
            }

            // Create student object
            const student = {
                id: editIndex === -1 ? Date.now() : students[editIndex].id, // Use timestamp as unique ID
                fullName,
                rollNumber,
                courseName,
                skills: skills.split(',').map(skill => skill.trim()),
                email,
                phone: formatPhoneNumber(phone)
            };

            try {
                showLoader();
                
                // Simulate API call delay with Promise
                await new Promise(resolve => setTimeout(resolve, 1000));

            if (editIndex === -1) {
                // Add new student
                students.push(student);
            } else {
                // Update existing student
                students[editIndex] = student;
                editIndex = -1; // Reset edit index
                    submitBtn.textContent = 'Add Student';
                }

                // Save to localStorage using Promise
                await saveStudents(students);

                // Update table asynchronously
                await displayStudents();

                // Clear form
                studentForm.reset();
                
            } catch (error) {
                console.error('Error saving student data:', error);
                alert('An error occurred while saving the student data. Please try again.');
            } finally {
                hideLoader();
            }
        }

        /*
         * REAL-TIME FORM VALIDATION
         * Enhanced validation with immediate feedback
         * Uses event listeners for a better user experience
         */
        function setupValidation() {
            const inputs = [
                { element: fullNameInput, errorElement: fullNameError, validator: validateName },
                { element: rollNumberInput, errorElement: rollNumberError, validator: validateRollNumber },
                { element: courseNameInput, errorElement: courseNameError, validator: validateCourseName },
                { element: skillsInput, errorElement: skillsError, validator: validateSkills },
                { element: emailInput, errorElement: emailError, validator: validateEmail },
                { element: phoneInput, errorElement: phoneError, validator: validatePhone }
            ];
            
            inputs.forEach(input => {
                // Validate on typing (input event)
                input.element.addEventListener('input', () => {
                    const isValid = input.validator(input.element.value);
                    toggleError(input.element, input.errorElement, isValid);
                });
                
                // Validate when field loses focus (blur event)
                input.element.addEventListener('blur', () => {
                    const isValid = input.validator(input.element.value);
                    toggleError(input.element, input.errorElement, isValid);
                });
            });
        }
        
        // Helper function for validation UI feedback
        function toggleError(inputElement, errorElement, isValid) {
            if (!isValid) {
                inputElement.classList.add('validation-error');
                errorElement.style.display = 'block';
            } else {
                inputElement.classList.remove('validation-error');
                errorElement.style.display = 'none';
            }
        }

        // Individual validation functions
        function validateName(name) {
            return name.trim().length >= 2;
        }
        
        function validateRollNumber(rollNumber) {
            const rollNumberRegex = /^\d{2}[a-z]{3}\d{3}$/;
            return rollNumberRegex.test(rollNumber);
        }
        
        function validateCourseName(courseName) {
            return courseName.trim().length > 0;
        }
        
        function validateSkills(skills) {
            return skills.trim().length > 0;
        }
        
        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
        
        function validatePhone(phone) {
            const phoneRegex = /^\d{10}$/;
            return phoneRegex.test(phone);
        }
        
        // Comprehensive form validation
        function validateForm() {
            const nameValid = validateName(fullNameInput.value);
            const rollNumberValid = validateRollNumber(rollNumberInput.value);
            const courseNameValid = validateCourseName(courseNameInput.value);
            const skillsValid = validateSkills(skillsInput.value);
            const emailValid = validateEmail(emailInput.value);
            const phoneValid = validatePhone(phoneInput.value);
            
            toggleError(fullNameInput, fullNameError, nameValid);
            toggleError(rollNumberInput, rollNumberError, rollNumberValid);
            toggleError(courseNameInput, courseNameError, courseNameValid);
            toggleError(skillsInput, skillsError, skillsValid);
            toggleError(emailInput, emailError, emailValid);
            toggleError(phoneInput, phoneError, phoneValid);
            
            return nameValid && rollNumberValid && courseNameValid && skillsValid && emailValid && phoneValid;
        }

        // Phone number formatting
        function formatPhoneNumber(phone) {
            return phone.replace(/(\d{3})(\d{3})(\d{4})/, '($1) $2-$3');
        }

        /*
         * EVENT DELEGATION FOR TABLE ACTIONS
         * Using event delegation to handle clicks on dynamically created buttons
         * This is more efficient than attaching event listeners to each button
         */
        function handleTableActions(event) {
            const target = event.target;
            
            if (target.classList.contains('delete-btn')) {
                const index = parseInt(target.dataset.index);
                deleteStudent(index);
            } else if (target.classList.contains('edit-btn')) {
                const index = parseInt(target.dataset.index);
                editStudent(index);
            }
        }
        
        /*
         * ASYNC/AWAIT FOR DELETE OPERATION
         * Using async/await for the delete operation
         * Includes error handling and loading animation
         */
        async function deleteStudent(index) {
            try {
                showLoader();
                
                // Simulate API call delay
                await new Promise(resolve => setTimeout(resolve, 800));
                
            students.splice(index, 1);
                await saveStudents(students);
                await displayStudents();
                
            } catch (error) {
                console.error('Error deleting student:', error);
                alert('An error occurred while deleting the student. Please try again.');
            } finally {
                hideLoader();
            }
        }

        // Edit student function
        function editStudent(index) {
            const student = students[index];
            fullNameInput.value = student.fullName;
            rollNumberInput.value = student.rollNumber;
            courseNameInput.value = student.courseName;
            skillsInput.value = student.skills.join(', ');
            emailInput.value = student.email;
            phoneInput.value = student.phone.replace(/\D/g, ''); // Remove formatting for editing
            editIndex = index; // Set the index of the student being edited
            submitBtn.textContent = 'Update Student';
            
            // Scroll to form for better UX
            document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
        }

        /*
         * REAL-TIME SEARCH FUNCTIONALITY
         * Implements real-time filtering as the user types
         * Uses array filter method for efficient data filtering
         */
        function handleSearch(event) {
            const searchTerm = event.target.value.toLowerCase();
            const filteredStudents = students.filter(student => 
                student.fullName.toLowerCase().includes(searchTerm) ||
                student.rollNumber.toLowerCase().includes(searchTerm)
            );
            displayStudents(filteredStudents);
        }

        /*
         * ADVANCED SORTING FUNCTIONALITY
         * Implements sorting by different fields and directions
         * Uses array sort method with custom comparator
         */
        function handleSort() {
            const field = sortField.value;
            const order = sortOrder.value;
            
            if (!field) return;
            
            const sortedStudents = [...students].sort((a, b) => {
                let comparison = 0;
                
                if (field === 'id') {
                    comparison = a.id - b.id;
                } else {
                    const valueA = typeof a[field] === 'string' ? a[field].toLowerCase() : a[field];
                    const valueB = typeof b[field] === 'string' ? b[field].toLowerCase() : b[field];
                    
                    if (valueA < valueB) {
                        comparison = -1;
                    } else if (valueA > valueB) {
                        comparison = 1;
                    }
                }
                
                return order === 'desc' ? comparison * -1 : comparison;
            });
            
            displayStudents(sortedStudents);
        }
        
        /*
         * EVENT PROPAGATION FOR TABLE HEADER SORTING
         * Uses event propagation to handle clicks on table headers
         * Implements toggling sort direction when clicking the same column
         */
        function handleTableHeaderClick(event) {
            const target = event.target;
            
            if (target.tagName === 'TH' && target.dataset.sort) {
                const field = target.dataset.sort;
                
                // Toggle sort order if clicking the same column
                if (sortField.value === field) {
                    sortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc';
                } else {
                    sortField.value = field;
                    sortOrder.value = 'asc';
                }
                
                handleSort();
            }
        }

        /*
         * ASYNC/AWAIT FOR DISPLAY OPERATION
         * Using async/await for the display operation
         * Includes error handling for robustness
         */
        async function displayStudents(studentsToDisplay = students) {
            try {
                studentTableBody.innerHTML = '';

            studentsToDisplay.forEach((student, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${student.fullName}</td>
                    <td>${student.rollNumber}</td>
                    <td>${student.courseName}</td>
                    <td>
                        <ul class="skills-list">
                            ${student.skills.map(skill => `<li>${skill}</li>`).join('')}
                        </ul>
                    </td>
                    <td>
                        Email: ${student.email}<br>
                        Phone: ${student.phone}
                    </td>
                    <td>
                            <button class="edit-btn" data-index="${index}">Edit</button>
                            <button class="delete-btn" data-index="${index}">Delete</button>
                    </td>
                `;
                    studentTableBody.appendChild(row);
                });
            } catch (error) {
                console.error('Error displaying students:', error);
            }
        }
        
        /*
         * LOADING ANIMATION FUNCTIONS
         * Implements loading animation for asynchronous operations
         * Improves user experience during waiting periods
         */
        function showLoader() {
            loaderContainer.style.display = 'flex';
        }
        
        function hideLoader() {
            loaderContainer.style.display = 'none';
        }

        /*
         * SAMPLE DATA GENERATION
         * Creates a database of 25 sample student entries
         * Used to pre-populate the system for demonstration purposes
         */
        function generateSampleData() {
            const sampleStudents = [
                {
                    id: 1678901234567,
                    fullName: "Aditya Sharma",
                    rollNumber: "21ucs101",
                    courseName: "Computer Science",
                    skills: ["JavaScript", "React", "Node.js"],
                    email: "aditya.sharma@university.edu",
                    phone: "(987) 654-3210"
                },
                {
                    id: 1678901234568,
                    fullName: "Priya Patel",
                    rollNumber: "21ucs102",
                    courseName: "Computer Science",
                    skills: ["Python", "Machine Learning", "Data Analysis"],
                    email: "priya.patel@university.edu",
                    phone: "(876) 543-2109"
                },
                {
                    id: 1678901234569,
                    fullName: "Rahul Gupta",
                    rollNumber: "21ucs103",
                    courseName: "Computer Science",
                    skills: ["Java", "Spring Boot", "Microservices"],
                    email: "rahul.gupta@university.edu",
                    phone: "(765) 432-1098"
                },
                {
                    id: 1678901234570,
                    fullName: "Neha Singh",
                    rollNumber: "21ucs104",
                    courseName: "Computer Science",
                    skills: ["C++", "Data Structures", "Algorithms"],
                    email: "neha.singh@university.edu",
                    phone: "(654) 321-0987"
                },
                {
                    id: 1678901234571,
                    fullName: "Vikram Reddy",
                    rollNumber: "21ucs105",
                    courseName: "Computer Science",
                    skills: ["Cloud Computing", "AWS", "DevOps"],
                    email: "vikram.reddy@university.edu",
                    phone: "(543) 210-9876"
                },
                {
                    id: 1678901234572,
                    fullName: "Ananya Desai",
                    rollNumber: "21uec101",
                    courseName: "Electronics Engineering",
                    skills: ["Circuit Design", "VLSI", "Embedded Systems"],
                    email: "ananya.desai@university.edu",
                    phone: "(432) 109-8765"
                },
                {
                    id: 1678901234573,
                    fullName: "Rohan Joshi",
                    rollNumber: "21uec102",
                    courseName: "Electronics Engineering",
                    skills: ["PCB Design", "Microcontrollers", "IoT"],
                    email: "rohan.joshi@university.edu",
                    phone: "(321) 098-7654"
                },
                {
                    id: 1678901234574,
                    fullName: "Meera Kapoor",
                    rollNumber: "21uec103",
                    courseName: "Electronics Engineering",
                    skills: ["Signal Processing", "Communication Systems", "MATLAB"],
                    email: "meera.kapoor@university.edu",
                    phone: "(210) 987-6543"
                },
                {
                    id: 1678901234575,
                    fullName: "Arjun Kumar",
                    rollNumber: "21ume101",
                    courseName: "Mechanical Engineering",
                    skills: ["CAD", "Thermodynamics", "Fluid Mechanics"],
                    email: "arjun.kumar@university.edu",
                    phone: "(109) 876-5432"
                },
                {
                    id: 1678901234576,
                    fullName: "Divya Malhotra",
                    rollNumber: "21ume102",
                    courseName: "Mechanical Engineering",
                    skills: ["Robotics", "Automation", "3D Printing"],
                    email: "divya.malhotra@university.edu",
                    phone: "(098) 765-4321"
                },
                {
                    id: 1678901234577,
                    fullName: "Karan Mehta",
                    rollNumber: "21ume103",
                    courseName: "Mechanical Engineering",
                    skills: ["Material Science", "Manufacturing", "Quality Control"],
                    email: "karan.mehta@university.edu",
                    phone: "(987) 654-3211"
                },
                {
                    id: 1678901234578,
                    fullName: "Shreya Verma",
                    rollNumber: "21uci101",
                    courseName: "Civil Engineering",
                    skills: ["Structural Analysis", "AutoCAD", "Construction Management"],
                    email: "shreya.verma@university.edu",
                    phone: "(876) 543-2110"
                },
                {
                    id: 1678901234579,
                    fullName: "Varun Choudhary",
                    rollNumber: "21uci102",
                    courseName: "Civil Engineering",
                    skills: ["Environmental Engineering", "Surveying", "Soil Mechanics"],
                    email: "varun.choudhary@university.edu",
                    phone: "(765) 432-1099"
                },
                {
                    id: 1678901234580,
                    fullName: "Ishaan Khanna",
                    rollNumber: "21uci103",
                    courseName: "Civil Engineering",
                    skills: ["Transportation Engineering", "Urban Planning", "GIS"],
                    email: "ishaan.khanna@university.edu",
                    phone: "(654) 321-0988"
                },
                {
                    id: 1678901234581,
                    fullName: "Tanvi Agarwal",
                    rollNumber: "21uch101",
                    courseName: "Chemical Engineering",
                    skills: ["Process Design", "Thermodynamics", "Reaction Engineering"],
                    email: "tanvi.agarwal@university.edu",
                    phone: "(543) 210-9877"
                },
                {
                    id: 1678901234582,
                    fullName: "Nikhil Sharma",
                    rollNumber: "21uch102",
                    courseName: "Chemical Engineering",
                    skills: ["Fluid Mechanics", "Heat Transfer", "Mass Transfer"],
                    email: "nikhil.sharma@university.edu",
                    phone: "(432) 109-8766"
                },
                {
                    id: 1678901234583,
                    fullName: "Riya Banerjee",
                    rollNumber: "21uch103",
                    courseName: "Chemical Engineering",
                    skills: ["Plant Design", "Safety Engineering", "Quality Control"],
                    email: "riya.banerjee@university.edu",
                    phone: "(321) 098-7655"
                },
                {
                    id: 1678901234584,
                    fullName: "Aarav Patel",
                    rollNumber: "22ucs201",
                    courseName: "Computer Science",
                    skills: ["Artificial Intelligence", "Deep Learning", "Computer Vision"],
                    email: "aarav.patel@university.edu",
                    phone: "(210) 987-6544"
                },
                {
                    id: 1678901234585,
                    fullName: "Sanya Khanna",
                    rollNumber: "22ucs202",
                    courseName: "Computer Science",
                    skills: ["Web Development", "UI/UX Design", "Frontend Frameworks"],
                    email: "sanya.khanna@university.edu",
                    phone: "(109) 876-5433"
                },
                {
                    id: 1678901234586,
                    fullName: "Dhruv Singhania",
                    rollNumber: "22ucs203",
                    courseName: "Computer Science",
                    skills: ["Blockchain", "Cryptography", "Smart Contracts"],
                    email: "dhruv.singhania@university.edu",
                    phone: "(098) 765-4322"
                },
                {
                    id: 1678901234587,
                    fullName: "Kavya Reddy",
                    rollNumber: "22uec201",
                    courseName: "Electronics Engineering",
                    skills: ["Analog Electronics", "Digital Systems", "Control Systems"],
                    email: "kavya.reddy@university.edu",
                    phone: "(987) 654-3212"
                },
                {
                    id: 1678901234588,
                    fullName: "Arnav Jain",
                    rollNumber: "22uec202",
                    courseName: "Electronics Engineering",
                    skills: ["Robotics", "Automation", "Sensors"],
                    email: "arnav.jain@university.edu",
                    phone: "(876) 543-2111"
                },
                {
                    id: 1678901234589,
                    fullName: "Nandini Mishra",
                    rollNumber: "22ume201",
                    courseName: "Mechanical Engineering",
                    skills: ["Product Design", "Finite Element Analysis", "Simulation"],
                    email: "nandini.mishra@university.edu",
                    phone: "(765) 432-1100"
                },
                {
                    id: 1678901234590,
                    fullName: "Vihaan Sharma",
                    rollNumber: "22ume202",
                    courseName: "Mechanical Engineering",
                    skills: ["Automotive Engineering", "Thermal Systems", "Energy Efficiency"],
                    email: "vihaan.sharma@university.edu",
                    phone: "(654) 321-0989"
                },
                {
                    id: 1678901234591,
                    fullName: "Aisha Khan",
                    rollNumber: "22uci201",
                    courseName: "Civil Engineering",
                    skills: ["Structural Design", "Construction Management", "Project Planning"],
                    email: "aisha.khan@university.edu",
                    phone: "(543) 210-9878"
                }
            ];
            
            return sampleStudents;
        }

        /*
         * INITIALIZE DATABASE
         * Checks if data exists in localStorage, if not, loads sample data
         * This function is called when the application starts
         */
        async function initializeDatabase() {
            try {
                const storedStudents = JSON.parse(localStorage.getItem('students')) || [];
                
                // If no data exists, load sample data
                if (storedStudents.length === 0) {
                    const sampleData = generateSampleData();
                    await saveStudents(sampleData);
                    return sampleData;
                }
                
                return storedStudents;
            } catch (error) {
                console.error('Error initializing database:', error);
                return [];
            }
        }

        // Modify the fetchStudents function to use the sample data
        function fetchStudents() {
            return new Promise((resolve, reject) => {
                // Simulate network delay
                setTimeout(async () => {
                    try {
                        const students = await initializeDatabase();
                        resolve(students);
                    } catch (error) {
                        reject(error);
                    }
                }, 1500); // 1.5 second delay to simulate network
            });
        }
    </script>
</body>
</html>